# Sentinel Docker Compose environment template
#
# Copy this file to .env and fill required values:
#   cp .env.example .env
#
# Required by default template behavior (login_mode=auth_key):
SENTINEL_TAILSCALE_AUTH_KEY=tskey-auth-REPLACE_ME
#
# Optional image override (Railway/local pinning)
SENTINEL_IMAGE=ghcr.io/jaxxstorm/sentinel:latest

# Core runtime pathing
SENTINEL_CONFIG_PATH=
SENTINEL_STATE_PATH=/data/state.json
SENTINEL_TSNET_STATE_DIR=/data/tsnet

# Polling/source behavior
# SENTINEL_POLL_INTERVAL=10s
# SENTINEL_POLL_JITTER=1s
# SENTINEL_POLL_BACKOFF_MIN=500ms
# SENTINEL_POLL_BACKOFF_MAX=30s
# SENTINEL_SOURCE_MODE=realtime

# Detector configuration (structured JSON)
# SENTINEL_DETECTORS={"presence":{"enabled":true},"peer_changes":{"enabled":true},"runtime":{"enabled":true}}
# SENTINEL_DETECTOR_ORDER=["presence","peer_changes","runtime"]

# Policy configuration
# SENTINEL_POLICY_DEBOUNCE_WINDOW=3s
# SENTINEL_POLICY_SUPPRESSION_WINDOW=0s
# SENTINEL_POLICY_RATE_LIMIT_PER_MIN=120
# SENTINEL_POLICY_BATCH_SIZE=20

# Notifier configuration (structured JSON)
# SENTINEL_NOTIFIER_SINKS=[{"name":"stdout-debug","type":"stdout"}]
# SENTINEL_NOTIFIER_ROUTES=[{"event_types":["*"],"severities":[],"sinks":["stdout-debug"]}]
# SENTINEL_WEBHOOK_URL=https://example.test/webhook
# SENTINEL_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/...

# Output/logging
SENTINEL_OUTPUT_LOG_FORMAT=pretty
SENTINEL_OUTPUT_LOG_LEVEL=info
# SENTINEL_OUTPUT_NO_COLOR=true

# Tailscale configuration
SENTINEL_TSNET_LOGIN_MODE=auth_key
# SENTINEL_TSNET_AUTH_KEY=tskey-auth-...
# SENTINEL_TSNET_HOSTNAME=sentinel
# SENTINEL_TSNET_ADVERTISE_TAGS=["tag:sentinel"]
# SENTINEL_TSNET_CLIENT_SECRET=oauth-client-secret
# SENTINEL_TSNET_CLIENT_ID=oauth-client-id
# SENTINEL_TSNET_ID_TOKEN=
# SENTINEL_TSNET_AUDIENCE=
# SENTINEL_TSNET_ALLOW_INTERACTIVE_FALLBACK=true
# SENTINEL_TSNET_LOGIN_TIMEOUT=5m

# Local source-build metadata used by docker-compose.local.yml
TAG_NAME=v0.0.0-dev
COMMIT_HASH=local
BUILD_TIMESTAMP=1970-01-01T00:00:00Z
